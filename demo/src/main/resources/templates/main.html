<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">게시글 보기</title>
    <style>
        .container { width: 80%; margin: 0 auto; padding: 20px; }
        .post-info { margin-bottom: 30px; padding: 10px; border: 1px solid #eee; background-color: #f9f9f9; }
        .comment-section { margin-top: 30px; }
        .comment-list { list-style: none; padding: 0; }
        .comment-item { border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
        .comment-author { font-weight: bold; color: #007bff; margin-right: 10px; }
        .comment-content { margin-top: 5px; }
        .comment-form textarea { width: 100%; height: 80px; margin-bottom: 10px; padding: 10px; border: 1px solid #ccc; }
        .comment-form input[type="submit"] { background-color: #28a745; color: white; border: none; padding: 10px 15px; cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>
<div class="container">
    <!-- 게시글 내용 -->
    <h2 th:text="${post.title}">게시글 제목</h2>
    <div class="post-info">
        <p><strong>작성자:</strong> <span th:text="${post.authorName}">익명</span></p>
    </div>
    <div class="post-content">
        <p th:text="${post.content}">게시글 내용입니다.</p>
    </div>
    <hr>
    <a href="/main">목록으로</a>

    <!-- 댓글 섹션 -->
    <div class="comment-section">
        <h3>댓글 목록 (<span th:text="${#lists.size(comments)}">0</span>)</h3>

        <ul class="comment-list">
            <li th:each="comment : ${comments}" class="comment-item">
                <div>
                    <span class="comment-author" th:text="${comment.authorName}">댓글 작성자</span>
                    <span class="comment-content" th:text="${comment.content}">댓글 내용</span>
                </div>
            </li>
        </ul>

        <!-- 댓글 작성 폼 -->
        <div class="comment-form">
            <h4>댓글 작성</h4>
            <form th:action="@{/post/{postId}/comment(postId=${post.id})}" method="post">
                <textarea name="content" placeholder="댓글을 입력하세요" required></textarea>
                <input type="submit" value="댓글 등록">
            </form>
        </div>
    </div>
</div>
</body>
</html>
