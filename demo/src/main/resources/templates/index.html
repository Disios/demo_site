<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-Care - 간편한 의료 접수 서비스</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script>
        // ---- language state ----
        let currentLang = localStorage.getItem('lang') || 'ko';

        // ---- screen navigation (단일 정의) ----
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            const target = document.getElementById(screenId);
            if (target) {
                target.classList.add('active');
                window.scrollTo(0, 0);
                applyTranslations(currentLang);   // 화면 바뀔 때도 언어 유지
            }
        }

        // ---- translations (단일 정의) ----
        const translations = {
            ko: {
                welcomeTitle: "환영합니다 👋",
                welcomeSubtitle: "간편하게 입력하고 편하게 진료받으세요.",
                startButton: "시작하기",
                registrationTitle: "새 환자 등록",
                symptomTitle: "증상 입력",
                recommendationTitle: "진료과 추천",
                disclaimer: `※본 서비스의 병원 추천은 자동화된 매칭·정보 제공 기능이며, 의료적 진단·치료나 긴급의료 조치를 대체하지 않습니다.<br>
추천 병원/정보의 정확성·최신성은 보장되지 않으며, 이용자의 판단과 확인에 따라 활용하시기 바랍니다.<br>
긴급 상황 시 즉시 응급의료기관(119 등)에 연락하세요.`
            },
            en: {
                welcomeTitle: "Welcome 👋",
                welcomeSubtitle: "Enter easily and get medical care conveniently.",
                startButton: "Get Started",
                registrationTitle: "New Patient Registration",
                symptomTitle: "Enter Symptoms",
                recommendationTitle: "Recommendation",
                disclaimer: `※ The hospital recommendations of this service are based on automated matching and information provision, and do not replace medical diagnosis, treatment, or emergency medical measures.<br>
The accuracy and timeliness of recommended hospitals/information are not guaranteed; please use them with your own judgment and confirmation.<br>
In an emergency, contact emergency medical services (e.g., 119) immediately.`
            },
            zh: {
                welcomeTitle: "欢迎 👋",
                welcomeSubtitle: "轻松填写，便捷就诊。",
                startButton: "开始",
                registrationTitle: "新患者登记",
                symptomTitle: "症状输入",
                recommendationTitle: "就诊科室推荐",
                disclaimer: `※本服务的医院推荐基于自动匹配和信息提供，并不能替代医学诊断、治疗或紧急医疗措施。<br>
推荐的医院/信息的准确性和时效性不作保证，请用户自行判断和确认后使用。<br>
如遇紧急情况，请立即联系急救医疗机构（如119）。`
            },
            ja: {
                welcomeTitle: "ようこそ 👋",
                welcomeSubtitle: "簡単に入力して、安心して診療を受けましょう。",
                startButton: "はじめる",
                registrationTitle: "新規患者登録",
                symptomTitle: "症状入力",
                recommendationTitle: "診療科のおすすめ",
                disclaimer: `※本サービスによる病院の推薦は、自動マッチングと情報提供に基づくものであり、医療的な診断・治療や緊急医療処置の代替にはなりません。<br>
推薦された病院/情報の正確性・最新性は保証されませんので、利用者自身の判断と確認のうえでご利用ください。<br>
緊急の場合は直ちに救急医療機関（119など）へ連絡してください。`
            },
            ph: {
                welcomeTitle: "Maligayang Pagdating 👋",
                welcomeSubtitle: "Madaling mag-input at kumonsulta ng walang abala.",
                startButton: "Magsimula",
                registrationTitle: "Bagong Rehistro ng Pasyente",
                symptomTitle: "Ilagay ang Sintomas",
                recommendationTitle: "Rekomendasyon",
                disclaimer: `※ Ang rekomendasyon ng ospital sa serbisyong ito ay batay sa awtomatikong pagtutugma at pagbibigay ng impormasyon, at hindi nito pinapalitan ang medikal na pagsusuri, paggamot, o agarang medikal na aksyon.<br>
Hindi garantisado ang pagiging tama at napapanahon ng mga inirekumendang ospital/impormasyon; gamitin ito ayon sa sarili mong paghusga at kumpirmasyon.<br>
Sa oras ng emerhensiya, agad tumawag sa serbisyong medikal na pang-emerhensiya (hal. 119).`
            },
            vi: {
                welcomeTitle: "Chào mừng 👋",
                welcomeSubtitle: "Nhập thông tin dễ dàng và khám bệnh thuận tiện.",
                startButton: "Bắt đầu",
                registrationTitle: "Đăng ký bệnh nhân mới",
                symptomTitle: "Nhập triệu chứng",
                recommendationTitle: "Khuyến nghị",
                disclaimer: `※ Các khuyến nghị về bệnh viện trong dịch vụ này dựa trên hệ thống gợi ý tự động và cung cấp thông tin, không thay thế cho việc chẩn đoán, điều trị hoặc can thiệp y tế khẩn cấp.<br>
Độ chính xác và tính cập nhật của bệnh viện/thông tin được khuyến nghị không được đảm bảo; vui lòng sử dụng dựa trên sự phán đoán và xác nhận của bạn.<br>
Trong trường hợp khẩn cấp, hãy liên hệ ngay với cơ sở y tế khẩn cấp (ví dụ: 119).`
            }
        };

        // ---- apply translations (단일 정의) ----
        function applyTranslations(lang) {
            const t = translations[lang] || translations.ko;

            // 메인
            const elWelcomeTitle = document.querySelector('.welcome-title');
            if (elWelcomeTitle) elWelcomeTitle.textContent = t.welcomeTitle;

            const elWelcomeSub = document.querySelector('.welcome-subtitle');
            if (elWelcomeSub) elWelcomeSub.textContent = t.welcomeSubtitle;

            const elStart = document.querySelector('#welcome-screen .btn-primary');
            if (elStart) elStart.textContent = t.startButton;

            // 등록/증상/추천 화면 헤더
            const regHeader = document.querySelector('#registration-screen .header-title');
            if (regHeader) regHeader.textContent = t.registrationTitle;

            const symHeader = document.querySelector('#symptom-screen .header-title');
            if (symHeader) symHeader.textContent = t.symptomTitle;

            const recHeader = document.querySelector('#recommendation-screen .header-title');
            if (recHeader) recHeader.textContent = t.recommendationTitle;

            // 면책 문구(여러 곳)
            document.querySelectorAll('.disclaimer').forEach(el => {
                if (t.disclaimer) el.innerHTML = t.disclaimer; // <br> 유지
            });
        }

        // ---- boot ----
        document.addEventListener('DOMContentLoaded', () => {
            // 언어 셀렉터
            const selector = document.querySelector('.language-selector');
            if (selector) {
                selector.value = currentLang;
                selector.addEventListener('change', function () {
                    currentLang = this.value;
                    localStorage.setItem('lang', currentLang);
                    applyTranslations(currentLang);
                    document.documentElement.setAttribute('lang', currentLang);
                });
            }

            // 초기 적용
            applyTranslations(currentLang);
            document.documentElement.setAttribute('lang', currentLang);
        });
    </script>
</head>
<body>
<div class="screen active" id="welcome-screen">
    <header class="app-header">
        <div class="logo">Q-Care</div>
        <select class="language-selector" aria-label="언어 선택">
            <option value="ko">🇰🇷 한국어</option>
            <option value="en">🇺🇸 English</option>
            <option value="zh">🇨🇳 中文 (简体)</option>
            <option value="ja">🇯🇵 日本語</option>
            <option value="ph">🇵🇭 Filipino</option>
            <option value="vi">🇻🇳 Tiếng Việt</option>
        </select>
    </header>

    <main class="welcome-content">
        <h1 class="welcome-title">환영합니다 👋</h1>
        <p class="welcome-subtitle">간편하게 입력하고 편하게 진료받으세요.</p>
        <button class="btn-primary btn-large" onclick="showScreen('registration-screen')">시작하기</button>
    </main>

    <footer class="app-footer">
        <h3 style="font-size:10px" class="disclaimer">※본 서비스의 병원 추천은 자동화된 매칭·정보 제공 기능이며, 의료적 진단·치료나 긴급의료 조치를 대체하지 않습니다.<br> 추천 병원/정보의 정확성·최신성은 보장되지 않으며, 이용자의 판단과 확인에 따라 활용하시기 바랍니다. <br>긴급 상황 시 즉시 응급의료기관(119 등)에 연락하세요.
        </h3>
    </footer>
</div>
<div class="screen" id="registration-screen">
    <header class="app-header">
        <button class="btn-back" onclick="showScreen('welcome-screen')" aria-label="뒤로가기">←</button>
        <h2 class="header-title">새 환자 등록</h2>
    </header>

    <div class="progress-bar">
        <div class="progress-fill" style="width: 25%"></div>
    </div>
    <p class="progress-text">1/4 단계</p>

    <main class="form-content">
        <form class="registration-form">
            <div class="form-group">
                <label for="name">
                    <span class="icon">👤</span>
                    이름 <span class="required">*</span>
                </label>
                <input type="text" id="name" name="name" placeholder="홍길동" required>
            </div>

            <div class="form-group">
                <label for="nationality">
                    <span class="icon">🌍</span>
                    국적
                </label>
                <select id="nationality" name="nationality">
                    <option value="">선택해주세요</option>
                    <option value="KR">대한민국</option>
                    <option value="PH">Philippines</option>
                    <option value="VN">Vietnam</option>
                    <option value="US">United States</option>
                </select>
            </div>

            <div class="form-group">
                <label for="language">
                    <span class="icon">💬</span>
                    모국어
                </label>
                <select id="language" name="language">
                    <option value="ko">한국어</option>
                    <option value="en">English</option>
                    <option value="tl">Filipino</option>
                    <option value="vi">Tiếng Việt</option>
                </select>
            </div>
        </form>
    </main>

    <footer class="form-footer">
        <button class="btn-secondary" onclick="showScreen('symptom-screen')">건너뛰기</button>
        <button class="btn-primary" onclick="showScreen('registration-complete')">다음</button>
    </footer>
</div>
<div class="screen" id="registration-complete">
    <main class="complete-content">
        <div class="success-icon">✅</div>
        <h2 class="complete-title">등록이 완료되었습니다</h2>
        <p class="complete-text">이제 증상을 입력하시면 가장 적합한 진료과와 병원을 추천해 드립니다.</p>
        <button class="btn-primary btn-large" onclick="showScreen('symptom-screen')">진료 증상 입력하기</button>
        <button class="btn-text" onclick="showScreen('welcome-screen')">홈으로</button>
    </main>
</div>
<div class="screen" id="symptom-screen">
    <header class="app-header">
        <button class="btn-back" onclick="showScreen('registration-complete')" aria-label="뒤로가기">←</button>
        <h2 class="header-title">증상 입력</h2>
    </header>

    <main class="symptom-content">
        <div class="alert-box">
            ⚠️ 긴급한 상황이면 119에 바로 연락하세요.
        </div>

        <div class="input-section">
            <label for="symptom-input" class="sr-only">증상을 입력하세요</label>
            <div class="symptom-input-wrapper">
                    <textarea
                            id="symptom-input"
                            placeholder="무엇이 불편하신가요? (예: 속이 아파요, 발열이 있어요)"
                            rows="4"
                    ></textarea>
                <button class="btn-voice" aria-label="음성 입력">🎤</button>
            </div>
        </div>

        <div class="quick-symptoms">
            <p class="section-label">자주 선택하는 증상</p>
            <div class="symptom-tags">
                <button class="tag">두통</button>
                <button class="tag">복통</button>
                <button class="tag">발열</button>
                <button class="tag">기침</button>
                <button class="tag">어지러움</button>
                <button class="tag">구토</button>
            </div>
        </div>

        <button class="btn-primary btn-large" onclick="showScreen('recommendation-screen')">추천받기</button>
    </main>
</div>

<div class="screen" id="recommendation-screen">
    <header class="app-header">
        <button class="btn-back" onclick="showScreen('symptom-screen')" aria-label="뒤로가기">←</button>
        <h2 class="header-title">진료과 추천</h2>
    </header>

    <main class="recommendation-content">
        <div class="recommendation-card">
            <h2 class="recommendation-title">소화기내과 진료가<br>필요합니다</h2>
            <p class="recommendation-text">입력하신 증상(속쓰림, 구토)은 소화기 전문의의 진료가 필요할 수 있습니다.</p>
        </div>

        <div class="action-buttons">
            <button class="btn-primary btn-large" onclick="showScreen('symptom-card')">증상 카드 보기</button>
            <button class="btn-secondary btn-large">가까운 병원 찾기</button>
            <button class="btn-emergency">🚨 응급 시 119</button>
        </div>

        <div class="disclaimer">
            <p><strong>※ 면책조항</strong></p>
            <p>본 서비스의 병원 추천은 자동 매칭·정보 제공 기능이며 의료적 진단·치료나 긴급의료 조치를 대체하지 않습니다. 추천 병원/정보의 정확성·최신성은 보장되지 않으니, 이용자의 판단과 확인에 따라 활용하시기 바랍니다. 긴급 상황 시 즉시 응급의료기관(119 등)에 연락하세요.</p>
        </div>
    </main>
</div>

<div class="screen" id="symptom-card">
    <header class="app-header">
        <button class="btn-back" onclick="showScreen('recommendation-screen')" aria-label="뒤로가기">←</button>
    </header>

    <main class="card-content">
        <div class="hospital-card">
            <h1 class="card-header">병원에 보여주세요</h1>

            <div class="patient-info">
                <div class="info-row">
                    <span class="label">이름:</span>
                    <span class="value">홍길동 (Philippines)</span>
                </div>
                <div class="info-row">
                    <span class="label">생년월일:</span>
                    <span class="value">1993.01.01 (32세)</span>
                </div>
                <div class="info-row">
                    <span class="label">연락처:</span>
                    <span class="value">+82-10-xxxx-xxxx</span>
                </div>
                <div class="info-row">
                    <span class="label">등록시간:</span>
                    <span class="value">2025-10-03 14:32</span>
                </div>
            </div>

            <div class="symptom-section">
                <h3>증상 (원문)</h3>
                <p class="symptom-original">I have severe stomach pain and vomiting since last night.</p>

                <h3>증상 (한국어)</h3>
                <p class="symptom-translated">심한 복통 및 구토 (어젯밤부터)</p>
            </div>

            <div class="recommendation-badge">
                <span class="badge-label">추천 진료과</span>
                <span class="badge-value">소화기내과</span>
            </div>

            <div class="urgency-badge">
                <span class="urgency-level">빠른 진료 권장</span>
            </div>

            <div class="qr-section">
                <div class="qr-code">
                    <svg viewBox="0 0 100 100" width="120" height="120">
                        <rect width="100" height="100" fill="white"/>
                        <rect x="10" y="10" width="15" height="15" fill="black"/>
                        <rect x="30" y="10" width="5" height="5" fill="black"/>
                        <rect x="40" y="10" width="10" height="10" fill="black"/>
                        <rect x="55" y="10" width="5" height="5" fill="black"/>
                        <rect x="75" y="10" width="15" height="15" fill="black"/>
                        <rect x="10" y="30" width="5" height="5" fill="black"/>
                        <rect x="20" y="30" width="5" height="5" fill="black"/>
                        <rect x="35" y="30" width="10" height="10" fill="black"/>
                        <rect x="50" y="30" width="5" height="5" fill="black"/>
                        <rect x="75" y="30" width="5" height="5" fill="black"/>
                        <rect x="85" y="30" width="5" height="5" fill="black"/>
                        <rect x="10" y="45" width="10" height="10" fill="black"/>
                        <rect x="30" y="45" width="5" height="5" fill="black"/>
                        <rect x="45" y="45" width="15" height="15" fill="black"/>
                        <rect x="70" y="45" width="10" height="10" fill="black"/>
                        <rect x="10" y="65" width="5" height="5" fill="black"/>
                        <rect x="25" y="65" width="10" height="10" fill="black"/>
                        <rect x="50" y="65" width="5" height="5" fill="black"/>
                        <rect x="75" y="65" width="5" height="5" fill="black"/>
                        <rect x="10" y="75" width="15" height="15" fill="black"/>
                        <rect x="35" y="75" width="5" height="5" fill="black"/>
                        <rect x="55" y="75" width="10" height="10" fill="black"/>
                        <rect x="75" y="75" width="15" height="15" fill="black"/>
                    </svg>
                </div>
                <p class="qr-label">병원에서 스캔해주세요</p>
            </div>

            <div class="card-disclaimer">
                ※ 본 서비스는 의료적 진단을 대체하지 않습니다. 긴급상황 시 119로 연락하세요.
            </div>
        </div>

        <div class="card-actions">
            <button class="btn-secondary">PDF로 저장</button>
            <button class="btn-secondary">프린트</button>
        </div>
    </main>
</div>
</body>
</html>